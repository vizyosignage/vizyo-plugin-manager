<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:Vizyo.Plugin.Playground.ViewModels"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="Vizyo.Plugin.Playground.Views.MainView"
             x:DataType="vm:MainViewModel">
  <Design.DataContext>
    <!-- This only sets the DataContext for the previewer in an IDE,
         to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
    <vm:MainViewModel />
  </Design.DataContext>
	<StackPanel>
	<Grid ColumnDefinitions="Auto,*,Auto,Auto" RowDefinitions="*,Auto" Background="Beige">
		<DockPanel Grid.Row="0" Grid.Column="0">
			<StackPanel Orientation="Horizontal" VerticalAlignment="Center" Spacing="6" Margin="6,0,6,0">

				<Menu VerticalAlignment="Center">

					<MenuItem Header="File" Classes="main">
						<MenuItem Header="Open Folder (axaml + cs)" Command="{Binding OpenFolderCommand}" />
						<MenuItem Header="Open Files (axaml + cs)" Command="{Binding OpenXamlAndCodeFileCommand}" />
						<Separator />
						<MenuItem Header="Open File (axaml)" Command="{Binding OpenXamlFileCommand}" />
						<!--<MenuItem Header="Save Xaml As..." Command="{Binding SaveXamlFileCommand}" />-->
						<!--<Separator />-->
						<MenuItem Header="Open File (cs)" Command="{Binding OpenCodeFileCommand}" />
						<!--<MenuItem Header="Save Code As..." Command="{Binding SaveCodeFileCommand}" />-->
						<!--<Separator />-->
						<MenuItem Header="Open File (dll)" Command="{Binding OpenDllFileCommand}" />
					</MenuItem>

					<!--<MenuItem Header="Run"
							  Classes="main"
							  Command="{Binding RunCommand}" />-->
				</Menu>

			</StackPanel>

		</DockPanel>
	</Grid>

  <!--<TextBlock Text="{Binding Greeting}" HorizontalAlignment="Center" VerticalAlignment="Center"/>-->

	<!--<Canvas Name="MainCanvas"></Canvas>-->

	<!--<Image Source="/Assets/avalonia-logo.ico" Stretch="Uniform" Width="300" Height="300"></Image>-->

	<Grid Height="{Binding $parent[StackPanel].Bounds.Height}">
		<ContentControl Content="{Binding Control}"
		HorizontalAlignment="Center"
		VerticalAlignment="Center"/>
	</Grid>
	

	<!--<Canvas Width="800" Height="450">

		<ItemsControl ItemsSource="{Binding ActivePlugins}">
			<ItemsControl.ItemsPanel>
				<ItemsPanelTemplate>
					<Canvas />
				</ItemsPanelTemplate>
			</ItemsControl.ItemsPanel>

			<ItemsControl.ItemTemplate>
				<DataTemplate>
					<ContentControl Content="{Binding View}"
									Width="{Binding ViewModel.Width}"
									Height="{Binding ViewModel.Height}"
									Canvas.Left="{Binding ViewModel.X}"
									Canvas.Top="{Binding ViewModel.Y}"/>
				</DataTemplate>
			</ItemsControl.ItemTemplate>
		</ItemsControl>

	</Canvas>-->

	<!--<Canvas Width="800" Height="450">

		<ItemsControl ItemsSource="{Binding ActivePlugins}">
			<ItemsControl.ItemsPanel>
				<ItemsPanelTemplate>
					<Canvas />
				</ItemsPanelTemplate>
			</ItemsControl.ItemsPanel>

			<ItemsControl.ItemTemplate>
				<DataTemplate>
					<ContentControl Content="{Binding CurrentControl}"/>
				</DataTemplate>
			</ItemsControl.ItemTemplate>
		</ItemsControl>

	</Canvas>-->
	</StackPanel>
</UserControl>
